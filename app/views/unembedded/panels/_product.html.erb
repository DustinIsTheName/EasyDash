<input type="hidden" name="resource" value="<%= @type %>"> 
<input type="hidden" name="id" value="<%= @resource.id %>"> 
<article>
  <div class="card">
    <div class="row">
      <label>Title</label>
      <%= o.text_field :title, placeholder: "Short Sleeve T-Shirt" %>
    </div>
    <div class="row no_margin">
      <label>Description</label>
      <%= o.text_area :body_html %>
    </div>
  </div>
</article>
<article>
  <!-- <a href="#" class="theme-editor-action-list__item" draggable="false"> -->
    <div class="card drop_images">
      <!-- <h5 class="wittyEDPanelButton">Images</h5>
      <button class="btn btn--plain icon-next dark tip" type="button" name="button" data-hover="Edit/add/delete images"></button> -->
      <h5>Images</h5>
      <div class="row no_margin">
        <a style="display: inherit; margin-bottom: 1rem;" href="">Add images from URL</a>
        <a href="">Add images</a>
        <div class="column twelve type--centered no_margin">
          <i class="image icon-photos next-icon--size-80"></i>
          <h5>Drop images to upload</h5>
        </div>
      </div>
    </div>
  <!-- </a> -->
</article>

<% if @resource.variants.first.title == 'Default Title' %>
  <%= panel 'one_variant' %>
<% else %>
  <div class="card">
    <div class="next-pannel">Wait there!</div>
  </div>
<% end %>

<article>
  <div class="theme-editor-action-list__item" draggable="false">
    <div class="card">
      <h5>Search engine listing preview</h5>
      <p>Add a description to see how this product might appear in a search engine listing.</p>
      <button class="secondary reveal-trigger" data-reveal="seo">Edit website SEO</button>
      <div class="edit reveal-target" data-reveal="seo">

        <% title_tag_index = false %>
        <% description_tag_index = false %>

        <% @resource.metafields.each_with_index do |metafield, index| %>
          <% if metafield.key == 'title_tag' %>
            <% title_tag_index = index %>
          <% end %>
          <% if metafield.key == 'description_tag' %>
            <%= fields_for 'metafields[]', metafield do |m| %>
              <% description_tag_index = index %>
            <% end %>
          <% end %>
        <% end %>

        <div class="row">
          <% if title_tag_index %>
            <%= fields_for 'metafields[]', @resource.metafields[title_tag_index] do |m| %>
              <%= m.text_field :value %>
            <% end %>
          <% else %>
            <%= fields_for 'new_metafields[]', ShopifyAPI::Metafield.new do |m| %>
              <%= m.hidden_field :name, value: 'title_tag', class: "new_field" %>
              <%= m.text_field :value, class: "new_field" %>
            <% end %>
          <% end %>
        </div>

        <div class="row">
          <% if description_tag_index %>
            <%= fields_for 'metafields[]',  @resource.metafields[description_tag_index] do |m| %>
              <%= m.text_area :value %>
            <% end %>
          <% else %>
            <%= fields_for 'new_metafields[]', ShopifyAPI::Metafield.new do |m| %>
              <%= m.hidden_field :name, value: 'description_tag', class: "new_field" %>
              <%= m.text_area :value, class: "new_field" %>
            <% end %>
          <% end %>
        </div>

        <div class="row no_margin">
          <%= o.text_field :handle %>
        </div>
      </div>
      <!-- <button class="btn btn--plain icon-next dark" type="button" name="button"></button> -->
    </div>
  </div>
</article>
<article>
  <div class="card secondary">
    <h5>Visibility</h5>
    <div class="divider"></div>
    <div class="row no_margin">
      <label>
        <% if @resource.published_at %>
          <input type="checkbox" name="shopify_api_product[published_at]" checked="checked">
          <input type="hidden" name="shopify_api_product[old_published_at]" value="true">
        <% else %>
          <input type="checkbox" name="shopify_api_product[published_at]">
        <% end %>
        Online store
        <a href="">
          <i class="icon-calendar tip" data-hover="Set publish date"></i>
        </a>
      </label>
    </div>
  </div>
</article>
<article>
  <div class="card secondary">
    <h5>Organization</h5>
    <div class="row extra_margin">
      <label>Product type</label>
      <div class="input-group">
        <%= o.text_field :product_type, placeholder: "Shirts" %>
        <button class="secondary icon-down"></button>
      </div>
    </div>
    <div class="row">
      <label>Vendor</label>
      <div class="input-group">
        <%= o.text_field :vendor, placeholder: "Nike" %>
        <button class="secondary icon-down"></button>
      </div>
    </div>
    <div class="divider"></div>
    <div class="row">
      <label class="extra_margin">Collection</label>
      <input type="search" placeholder="Search for collections" />
      <em>Add this product to a collection so itâ€™s easy to find in your store.</em>
    </div>
    <div class="divider"></div>
    <div class="row no_margin">
      <label class="extra_margin">Tags <a href="#" class="label-cta">View all tags</a></label>
      <%= o.text_field :tags, placeholder: "Vintage, cotton, summer" %>
    </div>
  </div>
</article>
<article>
  <div class="card secondary">
    <h5>Theme templates</h5>
    <label>Template suffix</label>
    <%= o.select :template_suffix, template_suffix_options(@assets.select{|asset| asset.key.include? "templates/product" }), {}, {class: "secondary extra_margin"} %>>
    <em class="no_margin">The template customers see when viewing this product in your store.</em>
  </div>
</article>
<div class="wittyEDBottomButtons"> 
  <!-- <button class="secondary red btn_bottom">Delete product</button> -->
  <button class="warning btn_bottom">Delete product</button>  
</div>

<%= o.submit %>
